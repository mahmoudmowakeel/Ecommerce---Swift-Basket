<section
  class="w-[90%] mx-auto mb-5 bg-black text-white text-center border-2 border-[#777777] my-7 md:my-1 rounded-xl p-5"
>
  <div class="flex justify-between  flex-col md:flex-row gap-4">
    <h1 class="text-xl text-white text-center font-semibold">Cart Details</h1>
    <h3 class="mt-3 text-green-700 text-xl font-bold">
      Total cart price : {{ cartDetails.totalCartPrice | currency }}
    </h3>
    <button
      (click)="clearCart()"
      class="border border-red-600 text-red-500 rounded-xl p-2 h-fit"
    >
      Clear Cart
    </button>
  </div>
  @for(item of cartDetails.products; track item.product.id) {
  <div class="md:grid grid-cols-12 m-3 flex flex-col md:flex-row gap-3 my-3 border-b pb-3">
    <div class="col-span-1 ">
      <img
        [src]="item.product.imageCover"
        [alt]="item.product.title"
        class="rounded-xl max-w-[7rem] md:max-w-full mx-auto"
      />
    </div>
    <div class="col-span-11 flex flex-col md:flex-row justify-between items-center gap-2">
      <section class="flex flex-col text-center md:text-left">
        <h3>{{ item.product.title }}</h3>
        <span>Price: {{ item.price | currency }}</span>
        <span (click)="removeItem(item.product._id)" class="text-red-700 cr"
          ><i class="fa-solid fa-trash"></i
        ></span>
      </section>
      <section class="flex gap-3">
        <span
          (click)="updateItemQuantity(item.product.id, item.count + 1)"
          class="cr"
          ><i class="fa-solid fa-circle-plus text-yellow-500"></i
        ></span>
        <span class="">{{ item.count }}</span>
        <span
          (click)="updateItemQuantity(item.product.id, item.count - 1)"
          class="cr"
          ><i class="fa-solid fa-circle-minus text-yellow-500"></i
        ></span>
      </section>
    </div>
  </div>
  } @empty {
  <div class="flex items-center justify-center min-h-[10rem]">
    <p class="text-[#777777] text-2xl font-semibold">No Items To Show</p>
  </div>
  } @if(cartDetails.products.length > 0) {
  <button
    (click)="checkoutCart()"
    class="bg-yellow-500 py-3 px-5 text-md text-black font-semibold rounded-lg"
  >
    <i class="fa-solid fa-wallet"></i> Checkout
  </button>
  }
</section>
